
{% comment %}
This will affect ALL subscription widgets on the store.
If the value set does not exist in the subscription in the app settings, the first available option will be selected by default.

frequencyNumValue is used to preselect the number of times the order will occur per frequency type.
frequencyTypeValue is used to preselect the type of frequency.
Day: "1"
Week: "2"
Month: "3"
Year: "5"
{% endcomment %}

<script>
  if (window.BOLD && BOLD.common && BOLD.common.eventEmitter && typeof BOLD.common.eventEmitter.on === 'function'){
    BOLD.common.eventEmitter.on("BOLD_RECURRING_ORDERS_widget_loaded", function (e){
      // Update the below values based off table above. NOTE: Make sure number is wrapped in quotes.
      var frequencyNumValue ="2";
      var frequencyTypeValue = "3";

      var frequencyNum = document.querySelector('.bold-ro__frequency-num');
      var frequencyType = document.querySelector('.bold-ro__frequency-type');
      var frequencyNumOptions = document.querySelectorAll('.bold-ro__frequency-num > option');
      var frequencyTypeOptions = document.querySelectorAll('.bold-ro__frequency-type > option');

      frequencyNumOptions.forEach(function(values){
        if (frequencyNum && values.value == frequencyNumValue){
          frequencyNum.value = 2;
        }
      })

      frequencyTypeOptions.forEach(function(values){
        if (frequencyType && values.value == frequencyTypeValue){
          frequencyType.value = frequencyTypeValue;
        }
      })
    })
  }
</script>
